<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>提交</button>
</body>


<script>

    window.onload = function () {

        var oBtn = window.document.getElementsByTagName("button")[0];


        oBtn.onclick = function () {


            //1.创建一个异步对象

            /*
             为了应对所有的现代浏览器，包括 IE5 和 IE6，请检查浏览器是否支持 XMLHttpRequest 对象。如果支持，则创建 XMLHttpRequest 对象。如果不支持，则创建 ActiveXObject ：
            */

            var xml;
            if (window.XMLHttpRequest)
            {// code for IE7+, Firefox, Chrome, Opera, Safari
                xml=new XMLHttpRequest();
            }
            else
            {// code for IE6, IE5
                xml=new ActiveXObject("Microsoft.XMLHTTP");
            }

            //2.设置地址和请求方式
            /*
            在IE浏览器中, 如果通过Ajax发送GET请求, 那么IE浏览器认为
            同一个URL只有一个结果
            05-ajax-get.txt === abc

            console.log(Math.random());
            console.log(new Date().getTime());
            */

            console.log(Math.random());
            console.log(new Date().getTime());

            xml.open("GET","05-ajax-get.txt?t=" + (new Date().getTime()),true);

            //3.发送请求

            xml.send();

            //4.监听请求状态的变化

            xml.onreadystatechange = function () {

                if (xml.readyState === 4){

                    if (xml.status >= 200 && xml.status < 300 || xml.status === 304){
                        //5.返回处理结果
                        alert(xml.responseText);
                    } else {
                        alert("请求失败");
                    }

                }




            }




        }

    }

</script>
</html>